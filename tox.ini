[tox]
minversion = 3.18
envlist =
    plone43-py27
    plone51-py27
    plone52-py{27,37,38}

[testenv]
# We do not install with pip, but with buildout:
usedevelop = false
skip_install = true
deps =
    zc.buildout
commands_pre =
    plone43: {envbindir}/buildout -nc {toxinidir}/test-4.3.x.cfg buildout:directory={envdir} buildout:develop={toxinidir}
    plone51: {envbindir}/buildout -nc {toxinidir}/test-5.1.x.cfg buildout:directory={envdir} buildout:develop={toxinidir}
    plone52: {envbindir}/buildout -nc {toxinidir}/test-5.2.x.cfg buildout:directory={envdir} buildout:develop={toxinidir}
commands =
    {envbindir}/code-analysis
    {envbindir}/test
